/***SyntaxHighlighter*http://alexgorbatchev.com/SyntaxHighlighter**SyntaxHighlighterisdonationware.Ifyouareusingit,pleasedonate.*http://alexgorbatchev.com/SyntaxHighlighter/donate.html**@version*3.0.9(Thu,04Dec201412:32:21GMT)**@copyright*Copyright(C)2004-2013AlexGorbatchev.**@license*DuallicensedundertheMITandGPLlicenses.*//*!*XRegExpv2.0.0*(c)2007-2012StevenLevithan<http://xregexp.com/>*MITLicense*//***XRegExpprovidesaugmented,extensibleJavaScriptregularexpressions.Yougetnewsyntax,*flags,andmethodsbeyondwhatbrowserssupportnatively.XRegExpisalsoaregexutilitybelt*withtoolstomakeyourclient-sidegreppingsimplerandmorepowerful,whilefreeingyoufrom*worryingaboutpeskycross-browserinconsistenciesandthedubious`lastIndex`property.See*XRegExp'sdocumentation(http://xregexp.com/)formoredetails.*@modulexregexp*@requiresN/A*/varXRegExp;//Avoidrunningtwice;thatwouldresettokensandcouldbreakreferencestonativeglobalsXRegExp=XRegExp||(function(undef){"usestrict";/*--------------------------------------*Privatevariables*------------------------------------*/varself,addToken,add,//Optionalfeatures;canbeinstalledanduninstalledfeatures={natives:false,extensibility:false},//Storenativemethodstouseandrestore("native"isanES3reservedkeyword)nativ={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},//Storageforfixed/extendednativemethodsfixed={},//Storageforcachedregexescache={},//Storageforaddontokenstokens=[],//TokenscopesdefaultScope="default",classScope="class",//RegexesthatmatchnativeregexsyntaxnativeTokens={//Anynativemulticharactertokenindefaultscope(includesoctals,excludescharacterclasses)"default":/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,//Anynativemulticharactertokenincharacterclassscope(includesoctals)"class":/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/},//AnybackreferenceinreplacementstringsreplacementToken=/\$(?:{([\w$]+)}|(\d\d?|[\s\S]))/g,//AnycharacterwithalaterinstanceinthestringduplicateFlags=/([\s\S])(?=[\s\S]*\1)/g,//Anygreedy/lazyquantifierquantifier=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,//Checkforcorrect`exec`handlingofnonparticipatingcapturinggroupscompliantExecNpcg=nativ.exec.call(/()??/,"")[1]===undef,//Checkforflagysupport(Firefox3+)hasNativeY=RegExp.prototype.sticky!==undef,//UsedtokillinfiniterecursionduringXRegExpconstructionisInsideConstructor=false,//Storageforknownflags,includingaddonflagsregisteredFlags="gim"+(hasNativeY?"y":"");/*--------------------------------------*Privatehelperfunctions*------------------------------------*//***AttachesXRegExp.prototypepropertiesandnamedcapturesupportingdatatoaregexobject.*@private*@param{RegExp}regexRegextoaugment.*@param{Array}captureNamesArraywithcapturenames,ornull.*@param{Boolean}[isNative]Whethertheregexwascreatedby`RegExp`ratherthan`XRegExp`.*@returns{RegExp}Augmentedregex.*/functionaugment(regex,captureNames,isNative){varp;//Can'tauto-inheritthesesincetheXRegExpconstructorreturnsanonprimitivevaluefor(pinself.prototype){if(self.prototype.hasOwnProperty(p)){regex[p]=self.prototype[p];}}regex.xregexp={captureNames:captureNames,isNative:!!isNative};returnregex;}/***Returnsnative`RegExp`flagsusedbyaregexobject.*@private*@param{RegExp}regexRegextocheck.*@returns{String}Nativeflagsinuse.*/functiongetNativeFlags(regex){i,String(regex))[1];return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+//ProposedforES6,includedinAS3(regex.sticky?"y":"");//ProposedforES6,includedinFirefox3+}/***Copiesaregexobjectwhilepreservingspecialpropertiesfornamedcaptureandaugmentingwith*`XRegExp.prototype`methods.Thecopyhasafresh`lastIndex`property(settozero).Allows*addingandremovingflagswhilecopyingtheregex.*@private*@param{RegExp}regexRegextocopy.*@param{String}[addFlags]Flagstobeaddedwhilecopyingtheregex.*@param{String}[removeFlags]Flagstoberemovedwhilecopyingtheregex.*@returns{RegExp}Copyoftheprovidedregex,possiblywithmodifiedflags.*/functioncopy(regex,addFlags,removeFlags){if(!self.isRegExp(regex)){thrownewTypeError("typeRegExpexpected");}varflags=nativ.replace.call(getNativeFlags(regex)+(addFlags||""),duplicateFlags,"");if(removeFlags){//Wouldneedtoescape`removeFlags`ifthiswaspublicflags=nativ.replace.call(flags,newRegExp("["+removeFlags+"]+","g"),"");}if(regex.xregexp&&!regex.xregexp.isNative){//Compilingthecurrent(ratherthanprecompilation)sourcepreservestheeffectsofnonnativesourceflagsregex=augment(self(regex.source,flags),regex.xregexp.captureNames?regex.xregexp.captureNames.slice(0):null);}else{//Augmentwith`XRegExp.prototype`methods,butusenative`RegExp`(avoidsearchingforspecialtokens)regex=augment(newRegExp(regex.source,flags),null,true);}returnregex;}/**Returnsthelastindexatwhichagivenvaluecanbefoundinanarray,or`-1`ifit'snot*present.Thearrayissearchedbackwards.*@private*@param{Array}arrayArraytosearch.*@param{*}valueValuetolocateinthearray.*@returns{Number}Lastzero-basedindexatwhichtheitemisfound,or-1.*/functionlastIndexOf(array,value){vari=array.length;if(Array.prototype.lastIndexOf){returnarray.lastIndexOf(value);//Usethenativemethodifavailable}while(i--){if(array[i]===value){returni;}}return-1;}/***Determineswhetheranobjectisofthespecifiedtype.*@private*@param{*}valueObjecttocheck.*@param{String}typeTypetocheckfor,inlowercase.*@returns{Boolean}Whethertheobjectmatchesthetype.*/functionisType(value,type){returnObject.prototype.toString.call(value).toLowerCase()==="[object"+type+"]";}/***Preparesanoptionsobjectfromthegivenvalue.*@private*@param{String|Object}valueValuetoconverttoanoptionsobject.*@returns{Object}Optionsobject.*/functionprepareOptions(value){value=value||{};if(value==="all"||value.all){value={natives:true,extensibility:true};}elseif(isType(value,"string")){value=self.forEach(value,/[^\s,]+/,function(m){this[m]=true;},{});}returnvalue;}/***Runsbuilt-in/customtokensinreverseinsertionorder,untilamatchisfound.*@private*@param{String}patternOriginalpatternfromwhichanXRegExpobjectisbeingbuilt.*@param{Number}posPositiontosearchfortokenswithin`pattern`.*@param{Number}scopeCurrentregexscope.*@param{Object}contextContextobjectassignedtotokenhandlerfunctions.*@returns{Object}Objectwithproperties`output`(thesubstitutionstringreturnedbythe*successfultokenhandler)and`match`(thetoken'smatcharray),ornull.*/functionrunTokens(pattern,pos,scope,context){vari=tokens.length,result=null,match,t;//ProtectagainstconstructingXRegExpswithintokenhandlerandtriggerfunctionsisInsideConstructor=true;//Mustreset`isInsideConstructor`,evenifa`trigger`or`handler`throwstry{while(i--){//Runinreverseordert=tokens[i];if((t.scope==="all"||t.scope===scope)&&(!t.trigger||t.trigger.call(context))){t.pattern.lastIndex=pos;match=fixed.exec.call(t.pattern,pattern);//Fixed`exec`hereallowsuseofnamedbackreferences,etc.if(match&&match.index===pos){result={output:t.handler.call(context,match,scope),match:match};break;}}}}catch(err){throwerr;}finally{isInsideConstructor=false;}returnresult;}/***EnablesordisablesXRegExpsyntaxandflagextensibility.*@private*@param{Boolean}on`true`toenable;`false`todisable.*/functionsetExtensibility(on){self.addToken=addToken[on?"on":"off"];features.extensibility=on;}/***Enablesordisablesnativemethodoverrides.*@private*@param{Boolean}on`true`toenable;`false`todisable.*/functionsetNatives(on){RegExp.prototype.exec=(on?fixed:nativ).exec;RegExp.prototype.test=(on?fixed:nativ).test;String.prototype.match=(on?fixed:nativ).match;String.prototype.replace=(on?fixed:nativ).replace;String.prototype.split=(on?fixed:nativ).split;features.natives=on;}/*--------------------------------------*Constructor*------------------------------------*//***Createsanextendedregularexpressionobjectformatchingtextwithapattern.Differsfroma*nativeregularexpressioninthatadditionalsyntaxandflagsaresupported.Thereturnedobject*isinfactanative`RegExp`andworkswithallnativemethods.*@classXRegExp*@constructor*@param{String|RegExp}patternRegexpatternstring,oranexisting`RegExp`objecttocopy.*@param{String}[flags]Anycombinationofflags:*<li>`g`-global*<li>`i`-ignorecase*<li>`m`-multilineanchors*<li>`n`-explicitcapture*<li>`s`-dotmatchesall(akasingleline)*<li>`x`-free-spacingandlinecomments(akaextended)*<li>`y`-sticky(Firefox3+only)*Flagscannotbeprovidedwhenconstructingone`RegExp`fromanother.*@returns{RegExp}Extendedregularexpressionobject.*@example**//Withnamedcaptureandflagx*date=XRegExp('(?<year>[0-9]{4})-?#year\n\*(?<month>[0-9]{2})-?#month\n\*(?<day>[0-9]{2})#day','x');**//Passingaregexobjecttocopyit.Thecopymaintainsspecialpropertiesfornamedcapture,*//isaugmentedwith`XRegExp.prototype`methods,andhasafresh`lastIndex`property(setto*//zero).NativeregexesarenotrecompiledusingXRegExpsyntax.*XRegExp(/regex/);*/self=function(pattern,flags){if(self.isRegExp(pattern)){if(flags!==undef){thrownewTypeError("can'tsupplyflagswhenconstructingoneRegExpfromanother");}returncopy(pattern);}//Tokensbecomepartoftheregexconstructionprocess,soprotectagainstinfiniterecursion//whenanXRegExpisconstructedwithinatokenhandlerfunctionif(isInsideConstructor){thrownewError("can'tcalltheXRegExpconstructorwithintokendefinitionfunctions");}varoutput=[],scope=defaultScope,tokenContext={hasNamedCapture:false,captureNames:[],hasFlag:function(flag){returnflags.indexOf(flag)>-1;}},pos=0,tokenResult,match,chr;pattern=pattern===undef?"":String(pattern);flags=flags===undef?"":String(flags);if(nativ.match.call(flags,duplicateFlags)){//Don'tusetest/execbecausetheywouldupdatelastIndexthrownewSyntaxError("invalidduplicateregularexpressionflag");}//Strip/applyleadingmodemodifierwithanycombinationofflagsexceptgory:(?imnsx)pattern=nativ.replace.call(pattern,/^\(\?([\w$]+)\)/,function($0,$1){if(nativ.test.call(/[gy]/,$1)){thrownewSyntaxError("can'tuseflaggoryinmodemodifier");}flags=nativ.replace.call(flags+$1,duplicateFlags,"");return"";});self.forEach(flags,/[\s\S]/,function(m){if(registeredFlags.indexOf(m[0])<0){thrownewSyntaxError("invalidregularexpressionflag"+m[0]);}});while(pos<pattern.length){//CheckforcustomtokensatthecurrentpositiontokenResult=runTokens(pattern,pos,scope,tokenContext);if(tokenResult){output.push(tokenResult.output);pos+=(tokenResult.match[0].length||1);}else{//Checkfornativetokens(exceptcharacterclasses)atthecurrentpositionmatch=nativ.exec.call(nativeTokens[scope],pattern.slice(pos));if(match){output.push(match[0]);pos+=match[0].length;}else{chr=pattern.charAt(pos);if(chr==="["){scope=classScope;}elseif(chr==="]"){scope=defaultScope;}//Advancepositionbyonecharacteroutput.push(chr);++pos;}}}returnaugment(newRegExp(output.join(""),nativ.replace.call(flags,/[^gimy]+/g,"")),tokenContext.hasNamedCapture?tokenContext.captureNames:null);};/*--------------------------------------*Publicmethods/properties*------------------------------------*///Installedanduninstalledstatesfor`XRegExp.addToken`addToken={on:function(regex,handler,options){options=options||{};if(regex){tokens.push({pattern:copy(regex,"g"+(hasNativeY?"y":"")),handler:handler,scope:options.scope||defaultScope,trigger:options.trigger||null});}//Providing`customFlags`withnull`regex`and`handler`allowsaddingflagsthatdo//nothing,butdon'tthrowanerrorif(options.customFlags){registeredFlags=nativ.replace.call(registeredFlags+options.customFlags,duplicateFlags,"");}},off:function(){thrownewError("extensibilitymustbeinstalledbeforeusingaddToken");}};/***ExtendsorchangesXRegExpsyntaxandallowscustomflags.Thisisusedinternallyandcanbe*usedtocreateXRegExpaddons.`XRegExp.install('extensibility')`mustberunbeforecalling*thisfunction,oranerroristhrown.Ifmorethanonetokencanmatchthesamestring,thelast*addedwins.*@memberOfXRegExp*@param{RegExp}regexRegexobjectthatmatchesthenewtoken.*@param{Function}handlerFunctionthatreturnsanewpatternstring(usingnativeregexsyntax)*toreplacethematchedtokenwithinallfutureXRegExpregexes.Hasaccesstopersistent*propertiesoftheregexbeingbuilt,through`this`.Invokedwithtwoarguments:*<li>Thematcharray,withnamedbackreferenceproperties.*<li>Theregexscopewherethematchwasfound.*@param{Object}[options]Optionsobjectwithoptionalproperties:*<li>`scope`{String}Scopeswherethetokenapplies:'default','class',or'all'.*<li>`trigger`{Function}Functionthatreturns`true`whenthetokenshouldbeapplied;e.g.,*ifaflagisset.If`false`isreturned,thematchedstringcanbematchedbyothertokens.*Hasaccesstopersistentpropertiesoftheregexbeingbuilt,through`this`(including*function`this.hasFlag`).*<li>`customFlags`{String}Nonnativeflagsusedbythetoken'shandlerortriggerfunctions.*PreventsXRegExpfromthrowinganinvalidflagerrorwhenthespecifiedflagsareused.*@example**//Basicusage:Adds\aforALERTcharacter*XRegExp.addToken(*/\\a/,*function(){return'\\x07';},*{scope:'all'}*);*XRegExp('\\a[\\a-\\n]+').test('\x07\n\x07');//->true*/self.addToken=addToken.off;/***Cachesandreturnstheresultofcalling`XRegExp(pattern,flags)`.Onanysubsequentcallwith*thesamepatternandflagcombination,thecachedcopyisreturned.*@memberOfXRegExp*@param{String}patternRegexpatternstring.*@param{String}[flags]AnycombinationofXRegExpflags.*@returns{RegExp}CachedXRegExpobject.*@example**while(match=XRegExp.cache('.','gs').exec(str)){*//Theregexiscompiledonceonly*}*/self.cache=function(pattern,flags){varkey=pattern+"/"+(flags||"");returncache[key]||(cache[key]=self(pattern,flags));};/***Escapesanyregularexpressionmetacharacters,forusewhenmatchingliteralstrings.Theresult*cansafelybeusedatanypointwithinaregexthatusesanyflags.*@memberOfXRegExp*@param{String}strStringtoescape.*@returns{String}Stringwithregexmetacharactersescaped.*@example**XRegExp.escape('Escaped?<.>');*//->'Escaped\?\<\.>'*/self.escape=function(str){returnnativ.replace.call(str,/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");};/***Executesaregexsearchinaspecifiedstring.Returnsamatcharrayor`null`.Iftheprovided*regexusesnamedcapture,namedbackreferencepropertiesareincludedonthematcharray.*Optional`pos`and`sticky`argumentsspecifythesearchstartposition,andwhetherthematch*muststartatthespecifiedpositiononly.The`lastIndex`propertyoftheprovidedregexisnot*used,butisupdatedforcompatibility.Alsofixesbrowserbugscomparedtothenative*`RegExp.prototype.exec`andcanbeusedreliablycross-browser.*@memberOfXRegExp*@param{String}strStringtosearch.*@param{RegExp}regexRegextosearchwith.*@param{Number}[pos=0]Zero-basedindexatwhichtostartthesearch.*@param{Boolean|String}[sticky=false]Whetherthematchmuststartatthespecifiedposition*only.Thestring`'sticky'`isacceptedasanalternativeto`true`.*@returns{Array}Matcharraywithnamedbackreferenceproperties,ornull.*@example**//Basicuse,withnamedbackreference*varmatch=XRegExp.exec('U+2620',XRegExp('U\\+(?<hex>[0-9A-F]{4})'));*match.hex;//->'2620'**//Withposandsticky,inaloop*varpos=2,result=[],match;*while(match=XRegExp.exec('<1><2><3><4>5<6>',/<(\d)>/,pos,'sticky')){*result.push(match[1]);*pos=match.index+match[0].length;*}*//result->['2','3','4']*/self.exec=function(str,regex,pos,sticky){varr2=copy(regex,"g"+(sticky&&hasNativeY?"y":""),(sticky===false?"y":"")),match;r2.lastIndex=pos=pos||0;match=fixed.exec.call(r2,str);//Fixed`exec`requiredfor`lastIndex`fix,etc.if(sticky&&match&&match.index!==pos){match=null;}if(regex.global){regex.lastIndex=match?r2.lastIndex:0;}returnmatch;};/***Executesaprovidedfunctiononceperregexmatch.*@memberOfXRegExp*@param{String}strStringtosearch.*@param{RegExp}regexRegextosearchwith.*@param{Function}callbackFunctiontoexecuteforeachmatch.Invokedwithfourarguments:*<li>Thematcharray,withnamedbackreferenceproperties.*<li>Thezero-basedmatchindex.*<li>Thestringbeingtraversed.*<li>Theregexobjectbeingusedtotraversethestring.*@param{*}[context]Objecttouseas`this`whenexecuting`callback`.*@returns{*}Provided`context`object.*@example**//Extractseveryotherdigitfromastring*XRegExp.forEach('1a2345',/\d/,function(match,i){*if(i%2)this.push(+match[0]);*},[]);*//->[2,4]*/self.forEach=function(str,regex,callback,context){varpos=0,i=-1,match;while((match=self.exec(str,regex,pos))){callback.call(context,match,++i,str,regex);pos=match.index+(match[0].length||1);}returncontext;};/***Copiesaregexobjectandaddsflag`g`.Thecopymaintainsspecialpropertiesfornamed*capture,isaugmentedwith`XRegExp.prototype`methods,andhasafresh`lastIndex`property*(settozero).NativeregexesarenotrecompiledusingXRegExpsyntax.*@memberOfXRegExp*@param{RegExp}regexRegextoglobalize.*@returns{RegExp}Copyoftheprovidedregexwithflag`g`added.*@example**varglobalCopy=XRegExp.globalize(/regex/);*globalCopy.global;//->true*/self.globalize=function(regex){returncopy(regex,"g");};/***Installsoptionalfeaturesaccordingtothespecifiedoptions.*@memberOfXRegExp*@param{Object|String}optionsOptionsobjectorstring.*@example**//Withanoptionsobject*XRegExp.install({*//Overridesnativeregexmethodswithfixed/extendedversionsthatsupportnamed*//backreferencesandfixnumerouscross-browserbugs*natives:true,**//EnablesextensibilityofXRegExpsyntaxandflags*extensibility:true*});**//Withanoptionsstring*XRegExp.install('nativesextensibility');**//Usingashortcuttoinstallalloptionalfeatures*XRegExp.install('all');*/self.install=function(options){options=prepareOptions(options);if(!features.natives&&options.natives){setNatives(true);}if(!features.extensibility&&options.extensibility){setExtensibility(true);}};/***Checkswhetheranindividualoptionalfeatureisinstalled.*@memberOfXRegExp*@param{String}featureNameofthefeaturetocheck.Oneof:*<li>`natives`*<li>`extensibility`*@returns{Boolean}Whetherthefeatureisinstalled.*@example**XRegExp.isInstalled('natives');*/self.isInstalled=function(feature){return!!(features[feature]);};/***Returns`true`ifanobjectisaregex;`false`ifitisn't.Thisworkscorrectlyforregexes*createdinanotherframe,when`instanceof`and`constructor`checkswouldfail.*@memberOfXRegExp*@param{*}valueObjecttocheck.*@returns{Boolean}Whethertheobjectisa`RegExp`object.*@example**XRegExp.isRegExp('string');//->false*XRegExp.isRegExp(/regex/i);//->true*XRegExp.isRegExp(RegExp('^','m'));//->true*XRegExp.isRegExp(XRegExp('(?s).'));//->true*/self.isRegExp=function(value){returnisType(value,"regexp");};/***Retrievesthematchesfromsearchingastringusingachainofregexesthatsuccessivelysearch*withinpreviousmatches.Theprovided`chain`arraycancontainregexesandobjectswith`regex`*and`backref`properties.Whenabackreferenceisspecified,thenamedornumberedbackreference*ispassedforwardtothenextregexorreturned.*@memberOfXRegExp*@param{String}strStringtosearch.*@param{Array}chainRegexesthateachsearchformatcheswithinprecedingresults.*@returns{Array}Matchesbythelastregexinthechain,oranemptyarray.*@example**//Basicusage;matchesnumberswithin<b>tags*XRegExp.matchChain('1<b>2</b>3<b>4a56</b>',[*XRegExp('(?is)<b>.*?</b>'),*/\d+/*]);*//->['2','4','56']**//Passingforwardandreturningspecificbackreferences*html='<ahref="http://xregexp.com/api/">XRegExp</a>\*<ahref="http://www.google.com/">Google</a>';*XRegExp.matchChain(html,[*{regex:/<a href="([^"]+)">/i,backref:1},*{regex:XRegExp('(?i)^https?://(?<domain>[^/?#]+)'),backref:'domain'}*]);*//->['xregexp.com','www.google.com']*/self.matchChain=function(str,chain){return(functionrecurseChain(values,level){varitem=chain[level].regex?chain[level]:{regex:chain[level]},matches=[],addMatch=function(match){matches.push(item.backref?(match[item.backref]||""):match[0]);},i;for(i=0;i<values.length;++i){self.forEach(values[i],item.regex,addMatch);}return((level===chain.length-1)||!matches.length)?matches:recurseChain(matches,level+1);}([str],0));};/***Returnsanewstringwithoneorallmatchesofapatternreplaced.Thepatterncanbeastring*orregex,andthereplacementcanbeastringorafunctiontobecalledforeachmatch.To*performaglobalsearchandreplace,usetheoptional`scope`argumentorincludeflag`g`if*usingaregex.Replacementstringscanuse`${n}`fornamedandnumberedbackreferences.*Replacementfunctionscanusenamedbackreferencesvia`arguments[0].name`.Alsofixesbrowser*bugscomparedtothenative`String.prototype.replace`andcanbeusedreliablycross-browser.*@memberOfXRegExp*@param{String}strStringtosearch.*@param{RegExp|String}searchSearchpatterntobereplaced.*@param{String|Function}replacementReplacementstringorafunctioninvokedtocreateit.*Replacementstringscanincludespecialreplacementsyntax:*<li>$$-Insertsaliteral'$'.*<li>$&,$0-Insertsthematchedsubstring.*<li>$`-Insertsthestringthatprecedesthematchedsubstring(leftcontext).*<li>$'-Insertsthestringthatfollowsthematchedsubstring(rightcontext).*<li>$n,$nn-Wheren/nnaredigitsreferencinganexistentcapturinggroup,inserts*backreferencen/nn.*<li>${n}-Wherenisanameoranynumberofdigitsthatreferenceanexistentcapturing*group,insertsbackreferencen.*Replacementfunctionsareinvokedwiththreeormorearguments:*<li>Thematchedsubstring(correspondsto$&above).Namedbackreferencesareaccessibleas*propertiesofthisfirstargument.*<li>0..narguments,oneforeachbackreference(correspondingto$1,$2,etc.above).*<li>Thezero-basedindexofthematchwithinthetotalsearchstring.*<li>Thetotalstringbeingsearched.*@param{String}[scope='one']Use'one'toreplacethefirstmatchonly,or'all'.Ifnot*explicitlyspecifiedandusingaregexwithflag`g`,`scope`is'all'.*@returns{String}Newstringwithoneorallmatchesreplaced.*@example**//Regexsearch,usingnamedbackreferencesinreplacementstring*varname=XRegExp('(?<first>\\w+)(?<last>\\w+)');*XRegExp.replace('JohnSmith',name,'${last},${first}');*//->'Smith,John'**//Regexsearch,usingnamedbackreferencesinreplacementfunction*XRegExp.replace('JohnSmith',name,function(match){*returnmatch.last+','+match.first;*});*//->'Smith,John'**//Globalstringsearch/replacement*XRegExp.replace('RegExpbuildsRegExps','RegExp','XRegExp','all');*//->'XRegExpbuildsXRegExps'*/self.replace=function(str,search,replacement,scope){varisRegex=self.isRegExp(search),search2=search,result;if(isRegex){if(scope===undef&&search.global){scope="all";//Followflaggwhen`scope`isn'texplicit}//Notethatsinceacopyisused,`search`'s`lastIndex`isn'tupdated*during*replacementiterationssearch2=copy(search,scope==="all"?"g":"",scope==="all"?"":"g");}elseif(scope==="all"){search2=newRegExp(self.escape(String(search)),"g");}result=fixed.replace.call(String(str),search2,replacement);//Fixed`replace`requiredfornamedbackreferences,etc.if(isRegex&&search.global){search.lastIndex=0;//FixesIE,Safaribug(lasttestedIE9,Safari5.1)}returnresult;};/***Splitsastringintoanarrayofstringsusingaregexorstringseparator.Matchesofthe*separatorarenotincludedintheresultarray.However,if`separator`isaregexthatcontains*capturinggroups,backreferencesaresplicedintotheresulteachtime`separator`ismatched.*Fixesbrowserbugscomparedtothenative`String.prototype.split`andcanbeusedreliably*cross-browser.*@memberOfXRegExp*@param{String}strStringtosplit.*@param{RegExp|String}separatorRegexorstringtouseforseparatingthestring.*@param{Number}[limit]Maximumnumberofitemstoincludeintheresultarray.*@returns{Array}Arrayofsubstrings.*@example**//Basicuse*XRegExp.split('abc','');*//->['a','b','c']**//Withlimit*XRegExp.split('abc','',2);*//->['a','b']**//Backreferencesinresultarray*XRegExp.split('..word1..',/([a-z]+)(\d+)/i);*//->['..','word','1','..']*/self.split=function(str,separator,limit){returnfixed.split.call(str,separator,limit);};/***Executesaregexsearchinaspecifiedstring.Returns`true`or`false`.Optional`pos`and*`sticky`argumentsspecifythesearchstartposition,andwhetherthematchmuststartatthe*specifiedpositiononly.The`lastIndex`propertyoftheprovidedregexisnotused,butis*updatedforcompatibility.Alsofixesbrowserbugscomparedtothenative*`RegExp.prototype.test`andcanbeusedreliablycross-browser.*@memberOfXRegExp*@param{String}strStringtosearch.*@param{RegExp}regexRegextosearchwith.*@param{Number}[pos=0]Zero-basedindexatwhichtostartthesearch.*@param{Boolean|String}[sticky=false]Whetherthematchmuststartatthespecifiedposition*only.Thestring`'sticky'`isacceptedasanalternativeto`true`.*@returns{Boolean}Whethertheregexmatchedtheprovidedvalue.*@example**//Basicuse*XRegExp.test('abc',/c/);//->true**//Withposandsticky*XRegExp.test('abc',/c/,0,'sticky');//->false*/self.test=function(str,regex,pos,sticky){//Dothistheeasyway:-)return!!self.exec(str,regex,pos,sticky);};/***Uninstallsoptionalfeaturesaccordingtothespecifiedoptions.*@memberOfXRegExp*@param{Object|String}optionsOptionsobjectorstring.*@example**//Withanoptionsobject*XRegExp.uninstall({*//Restoresnativeregexmethods*natives:true,**//Disablesadditionalsyntaxandflagextensions*extensibility:true*});**//Withanoptionsstring*XRegExp.uninstall('nativesextensibility');**//Usingashortcuttouninstallalloptionalfeatures*XRegExp.uninstall('all');*/self.uninstall=function(options){options=prepareOptions(options);if(features.natives&&options.natives){setNatives(false);}if(features.extensibility&&options.extensibility){setExtensibility(false);}};/***ReturnsanXRegExpobjectthatistheunionofthegivenpatterns.Patternscanbeprovidedas*regexobjectsorstrings.Metacharactersareescapedinpatternsprovidedasstrings.*Backreferencesinprovidedregexobjectsareautomaticallyrenumberedtoworkcorrectly.Native*flagsusedbyprovidedregexesareignoredinfavorofthe`flags`argument.*@memberOfXRegExp*@param{Array}patternsRegexesandstringstocombine.*@param{String}[flags]AnycombinationofXRegExpflags.*@returns{RegExp}Unionoftheprovidedregexesandstrings.*@example**XRegExp.union(['a+b*c',/(dogs)\1/,/(cats)\1/],'i');*i**XRegExp.union([XRegExp('(?<pet>dogs)\\k<pet>'),XRegExp('(?<pet>cats)\\k<pet>')]);*//->XRegExp('(?<pet>dogs)\\k<pet>|(?<pet>cats)\\k<pet>')*/self.union=function(patterns,flags){varparts=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*]/g,numCaptures=0,numPriorCaptures,captureNames,rewrite=function(match,paren,backref){varname=captureNames[numCaptures-numPriorCaptures];if(paren){//Capturinggroup++numCaptures;if(name){//Ifthecurrentcapturehasanamereturn"(?<"+name+">";}}elseif(backref){//Backreferencereturn"\\"+(+backref+numPriorCaptures);}returnmatch;},output=[],pattern,i;if(!(isType(patterns,"array")&&patterns.length)){thrownewTypeError("patternsmustbeanonemptyarray");}for(i=0;i<patterns.length;++i){pattern=patterns[i];if(self.isRegExp(pattern)){numPriorCaptures=numCaptures;captureNames=(pattern.xregexp&&pattern.xregexp.captureNames)||[];//Rewritebackreferences.PassingtoXRegExpdiesonoctalsandensurespatterns//areindependentlyvalid;helpskeepthissimple.Namedcapturesareputbackoutput.push(self(pattern.source).source.replace(parts,rewrite));}else{output.push(self.escape(pattern));}}returnself(output.join("|"),flags);};/***TheXRegExpversionnumber.*@static*@memberOfXRegExp*@typeString*/self.version="2.0.0";/*--------------------------------------*Fixed/extendednativemethods*------------------------------------*//***Addsnamedcapturesupport(withbackreferencesreturnedas`result.name`),andfixesbrowser*bugsinthenative`RegExp.prototype.exec`.Calling`XRegExp.install('natives')`usesthisto*overridethenativemethod.Usevia`XRegExp.exec`withoutoverridingnatives.*@private*@param{String}strStringtosearch.*@returns{Array}Matcharraywithnamedbackreferenceproperties,ornull.*/fixed.exec=function(str){varmatch,name,r2,origLastIndex,i;if(!this.global){origLastIndex=this.lastIndex;}match=nativ.exec.apply(this,arguments);if(match){//Fixbrowserswhose`exec`methodsdon'tconsistentlyreturn`undefined`for//nonparticipatingcapturinggroupsif(!compliantExecNpcg&&match.length>1&&lastIndexOf(match,"")>-1){r2=newRegExp(this.source,nativ.replace.call(getNativeFlags(this),"g",""));//Using`str.slice(match.index)`ratherthan`match[0]`incaselookaheadallowed//matchingduetocharactersoutsidethematchnativ.replace.call(String(str).slice(match.index),r2,function(){vari;for(i=1;i<arguments.length-2;++i){if(arguments[i]===undef){match[i]=undef;}}});}//Attachnamedcapturepropertiesif(this.xregexp&&this.xregexp.captureNames){for(i=1;i<match.length;++i){name=this.xregexp.captureNames[i-1];if(name){match[name]=match[i];}}}//Fixbrowsersthatincrement`lastIndex`afterzero-lengthmatchesif(this.global&&!match[0].length&&(this.lastIndex>match.index)){this.lastIndex=match.index;}}if(!this.global){this.lastIndex=origLastIndex;//FixesIE,Operabug(lasttestedIE9,Opera11.6)}returnmatch;};/***Fixesbrowserbugsinthenative`RegExp.prototype.test`.Calling`XRegExp.install('natives')`*usesthistooverridethenativemethod.*@private*@param{String}strStringtosearch.*@returns{Boolean}Whethertheregexmatchedtheprovidedvalue.*/fixed.test=function(str){//Dothistheeasyway:-)return!!fixed.exec.call(this,str);};/***Addsnamedcapturesupport(withbackreferencesreturnedas`result.name`),andfixesbrowser*bugsinthenative`String.prototype.match`.Calling`XRegExp.install('natives')`usesthisto*overridethenativemethod.*@private*@param{RegExp}regexRegextosearchwith.*@returns{Array}If`regex`usesflagg,anarrayofmatchstringsornull.Withoutflagg,the*resultofcalling`regex.exec(this)`.*/fixed.match=function(regex){if(!self.isRegExp(regex)){regex=newRegExp(regex);//Usenative`RegExp`}elseif(regex.global){varresult=nativ.match.apply(this,arguments);regex.lastIndex=0;//FixesIEbugreturnresult;}returnfixed.exec.call(regex,this);};/***Addssupportfor`${n}`tokensfornamedandnumberedbackreferencesinreplacementtext,and*providesnamedbackreferencestoreplacementfunctionsas`arguments[0].name`.Alsofixes*browserbugsinreplacementtextsyntaxwhenperformingareplacementusinganonregexsearch*value,andthevalueofareplacementregex's`lastIndex`propertyduringreplacementiterations*anduponcompletion.Notethatthisdoesn'tsupportSpiderMonkey'sproprietarythird(`flags`)*argument.Calling`XRegExp.install('natives')`usesthistooverridethenativemethod.Usevia*`XRegExp.replace`withoutoverridingnatives.*@private*@param{RegExp|String}searchSearchpatterntobereplaced.*@param{String|Function}replacementReplacementstringorafunctioninvokedtocreateit.*@returns{String}Newstringwithoneorallmatchesreplaced.*/fixed.replace=function(search,replacement){varisRegex=self.isRegExp(search),captureNames,result,str,origLastIndex;if(isRegex){if(search.xregexp){captureNames=search.xregexp.captureNames;}if(!search.global){origLastIndex=search.lastIndex;}}else{search+="";}if(isType(replacement,"function")){result=nativ.replace.call(String(this),search,function(){varargs=arguments,i;if(captureNames){//Changethe`arguments[0]`stringprimitivetoa`String`objectthatcanstorepropertiesargs[0]=newString(args[0]);//Storenamedbackreferencesonthefirstargumentfor(i=0;i<captureNames.length;++i){if(captureNames[i]){args[0][captureNames[i]]=args[i+1];}}}//Update`lastIndex`beforecalling`replacement`.//FixesIE,Chrome,Firefox,Safaribug(lasttestedIE9,Chrome17,Firefox11,Safari5.1)if(isRegex&&search.global){search.lastIndex=args[args.length-2]+args[0].length;}returnreplacement.apply(null,args);});}else{str=String(this);//Ensure`args[args.length-1]`willbeastringwhengivennonstring`this`result=nativ.replace.call(str,search,function(){varargs=arguments;//Keepthisfunction's`arguments`availablethroughclosurereturnnativ.replace.call(String(replacement),replacementToken,function($0,$1,$2){varn;//Namedornumberedbackreferencewithcurlybracketsif($1){/*XRegExpbehaviorfor`${n}`:*1.Backreferencetonumberedcapture,where`n`is1+digits.`0`,`00`,etc.istheentirematch.*2.Backreferencetonamedcapture`n`,ifitexistsandisnotanumberoverriddenbynumberedcapture.*3.Otherwise,it'sanerror.*/n=+$1;//Type-convert;dropleadingzerosif(n<=args.length-3){returnargs[n]||"";}n=captureNames?lastIndexOf(captureNames,$1):-1;if(n<0){thrownewSyntaxError("backreferencetoundefinedgroup"+$0);}returnargs[n+1]||"";}//Else,specialvariableornumberedbackreference(withoutcurlybrackets)if($2==="$")return"$";if($2==="&"||+$2===0)returnargs[0];//$&,$0(notfollowedby1-9),$00if($2==="`")returnargs[args.length-1].slice(0,args[args.length-2]);if($2==="'")returnargs[args.length-1].slice(args[args.length-2]+args[0].length);//Else,numberedbackreference(withoutcurlybrackets)$2=+$2;//Type-convert;dropleadingzero/*XRegExpbehavior:*-Backreferenceswithoutcurlybracketsendafter1or2digits.Use`${..}`formoredigits.*-`$1`isanerroriftherearenocapturinggroups.*-`$10`isanerroriftherearelessthan10capturinggroups.Use`${1}0`instead.*-`$01`isequivalentto`$1`ifacapturinggroupexists,otherwiseit'sanerror.*-`$0`(notfollowedby1-9),`$00`,and`$&`aretheentirematch.*Nativebehavior,forcomparison:*-Backreferencesendafter1or2digits.Cannotusebackreferencetocapturinggroup100+.*-`$1`isaliteral`$1`iftherearenocapturinggroups.*-`$10`is`$1`followedbyaliteral`0`iftherearelessthan10capturinggroups.*-`$01`isequivalentto`$1`ifacapturinggroupexists,otherwiseit'saliteral`$01`.*-`$0`isaliteral`$0`.`$&`istheentirematch.*/if(!isNaN($2)){if($2>args.length-3){thrownewSyntaxError("backreferencetoundefinedgroup"+$0);}returnargs[$2]||"";}thrownewSyntaxError("invalidtoken"+$0);});});}if(isRegex){if(search.global){search.lastIndex=0;//FixesIE,Safaribug(lasttestedIE9,Safari5.1)}else{search.lastIndex=origLastIndex;//FixesIE,Operabug(lasttestedIE9,Opera11.6)}}returnresult;};/***Fixesbrowserbugsinthenative`String.prototype.split`.Calling`XRegExp.install('natives')`*usesthistooverridethenativemethod.Usevia`XRegExp.split`withoutoverridingnatives.*@private*@param{RegExp|String}separatorRegexorstringtouseforseparatingthestring.*@param{Number}[limit]Maximumnumberofitemstoincludeintheresultarray.*@returns{Array}Arrayofsubstrings.*/fixed.split=function(separator,limit){if(!self.isRegExp(separator)){returnnativ.split.apply(this,arguments);//usefasternativemethod}varstr=String(this),origLastIndex=separator.lastIndex,output=[],lastLastIndex=0,lastLength;/*Valuesfor`limit`,perthespec:*Ifundefined:pow(2,32)-1*If0,Infinity,orNaN:0*Ifpositivenumber:limit=floor(limit);if(limit>=pow(2,32))limit-=pow(2,32);*Ifnegativenumber:pow(2,32)-floor(abs(limit))*Ifother:Type-convert,thenusetheaboverules*/limit=(limit===undef?-1:limit)>>>0;self.forEach(str,separator,function(match){if((match.index+match[0].length)>lastLastIndex){//!=`if(match[0].length)`output.push(str.slice(lastLastIndex,match.index));if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1));}lastLength=match[0].length;lastLastIndex=match.index+lastLength;}});if(lastLastIndex===str.length){if(!nativ.test.call(separator,"")||lastLength){output.push("");}}else{output.push(str.slice(lastLastIndex));}separator.lastIndex=origLastIndex;returnoutput.length>limit?output.slice(0,limit):output;};/*--------------------------------------*Built-intokens*------------------------------------*///Shortcutadd=addToken.on;/*Letteridentityescapesthatnativelymatchliteralcharacters:\p,\P,etc.*ShouldbeSyntaxErrorsbutareallowedinwebreality.XRegExpmakesthemerrorsforcross-*browserconsistencyandtoreservetheirsyntax,butletsthembesupersededbyXRegExpaddons.*/add(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4})|x(?![\dA-Fa-f]{2}))/,function(match,scope){//\Bisallowedindefaultscopeonlyif(match[1]==="B"&&scope===defaultScope){returnmatch[0];}thrownewSyntaxError("invalidescape"+match[0]);},{scope:"all"});/*Emptycharacterclass:[]or[^]*Fixesacriticalcross-browsersyntaxinconsistency.Unlessthisisstandardized(perthespec),*regexsyntaxcan'tbeaccuratelyparsedbecausecharacterclassendingscan'tbedetermined.*/add(/\[(\^?)]/,function(match){//Forcross-browsercompatibilitywithES3,convert[]to\b\Band[^]to[\s\S].//(?!)shouldworklike\b\B,butisunreliableinFirefoxreturnmatch[1]?"[\\s\\S]":"\\b\\B";});/*Commentpattern:(?#)*Inlinecommentsareanalternativetothelinecommentsallowedinfree-spacingmode(flagx).*/add(/(?:\(\?#[^)]*\))+/,function(match){//Keeptokensseparatedunlessthefollowingtokenisaquantifierreturnnativ.test.call(quantifier,match.input.slice(match.index+match[0].length))?"":"(?:)";});/*Namedbackreference:\k<name>*BackreferencenamescanusethecharactersA-Z,a-z,0-9,_,and$only.*/add(/\\k<([\w$]+)>/,function(match){varindex=isNaN(match[1])?(lastIndexOf(this.captureNames,match[1])+1):+match[1],endIndex=match.index+match[0].length;if(!index||index>this.captureNames.length){thrownewSyntaxError("backreferencetoundefinedgroup"+match[0]);}//Keepbackreferencesseparatefromsubsequentliteralnumbersreturn"\\"+index+(endIndex===match.input.length||isNaN(match.input.charAt(endIndex))?"":"(?:)");});/*Whitespaceandlinecomments,infree-spacingmode(akaextendedmode,flagx)only.*/add(/(?:\s+|#.*)+/,function(match){//Keeptokensseparatedunlessthefollowingtokenisaquantifierreturnnativ.test.call(quantifier,match.input.slice(match.index+match[0].length))?"":"(?:)";},{trigger:function(){returnthis.hasFlag("x");},customFlags:"x"});/*Dot,indotallmode(akasinglelinemode,flags)only.*/add(/\./,function(){return"[\\s\\S]";},{trigger:function(){returnthis.hasFlag("s");},customFlags:"s"});/*Namedcapturinggroup;matchtheopeningdelimiteronly:(?<name>*CapturenamescanusethecharactersA-Z,a-z,0-9,_,and$only.Namescan'tbeintegers.*SupportsPython-style(?P<name>asanalternatesyntaxtoavoidissuesinrecentOpera(which*nativelysupportsthePython-stylesyntax).Otherwise,XRegExpmighttreatnumbered*backreferencestoPython-stylenamedcaptureasoctals.*/add(/\(\?P?<([\w$]+)>/,function(match){if(!isNaN(match[1])){//Avoidincorrectlookups,sincenamedbackreferencesareaddedtomatcharraysthrownewSyntaxError("can'tuseintegerascapturename"+match[0]);}this.captureNames.push(match[1]);this.hasNamedCapture=true;return"(";});/*Numberedbackreferenceoroctal,plusanyfollowingdigits:\0,\11,etc.*Octalsexcept\0notfollowedby0-9andbackreferencestounopenedcapturegroupsthrowan*error.Othermatchesarereturnedunaltered.IE<=8doesn'tsupportbackreferencesgreaterthan*\99inregexsyntax.*/add(/\\(\d+)/,function(match,scope){if(!(scope===defaultScope&&/^[1-9]/.test(match[1])&&+match[1]<=this.captureNames.length)&&match[1]!=="0"){thrownewSyntaxError("can'tuseoctalescapeorbackreferencetoundefinedgroup"+match[0]);}returnmatch[0];},{scope:"all"});/*Capturinggroup;matchtheopeningparenthesisonly.*Requiredforsupportofnamedcapturinggroups.Alsoaddsexplicitcapturemode(flagn).*/add(/\((?!\?)/,function(){if(this.hasFlag("n")){return"(?:";}this.captureNames.push(null);return"(";},{customFlags:"n"});/*--------------------------------------*ExposeXRegExp*------------------------------------*///ForCommonJSenviromentsif(typeofexports!=="undefined"){exports.XRegExp=self;}returnself;}());////Beginanonymousfunction.Thisisusedtocontainlocalscopevariableswithoutpoluttingglobalscope.//if(typeof(SyntaxHighlighter)=='undefined')varSyntaxHighlighter=function(){//CommonJSif(typeof(require)!='undefined'&&typeof(XRegExp)=='undefined'){XRegExp=require('xregexp').XRegExp;}//ShortcutobjectwhichwillbeassignedtotheSyntaxHighlightervariable.//Thisisashorthandforlocalreferenceinordertoavoidlongnamespace//referencestoSyntaxHighlighter.whatever...varsh={defaults:{/**AdditionalCSSclassnamestobeaddedtohighlighterelements.*/'class-name':'',/**Firstlinenumber.*/'first-line':1,/***Padslinenumbers.Possiblevaluesare:**false-don'tpadlinenumbers.*true-automaticalypadnumberswithminimumrequirednumberofleadingzeroes.*[int]-lengthuptowhichpadlinenumbers.*/'pad-line-numbers':false,/**Linestohighlight.*/'highlight':null,/**Titletobedisplayedabovethecodeblock.*/'title':null,/**Enablesordisablessmarttabs.*/'smart-tabs':true,/**Getsorsetstabsize.*/'tab-size':4,/**Enablesordisablesgutter.*/'gutter':true,/**Enablesordisablestoolbar.*/'toolbar':true,/**Enablesquickcodecopyandpastefromdoubleclick.*/'quick-code':true,/**Forcescodeviewtobecollapsed.*/'collapse':false,/**Enablesordisablesautomaticlinks.*/'auto-links':true,/**Getsorsetslightmode.Equavalenttoturningoffgutterandtoolbar.*/'light':false,unindent:true,'html-script':false},config:{space:'&nbsp;',/**Enablesuseof<SCRIPTtype="syntaxhighlighter"/>tags.*/useScriptTags:true,/**Bloggermodeflag.*/bloggerMode:false,stripBrs:false,/**NameofthetagthatSyntaxHighlighterwillautomaticallylookfor.*/tagName:'pre',strings:{expandSource:'expandsource',help:'?',alert:'SyntaxHighlighter\n\n',noBrush:'Can\'tfindbrushfor:',brushNotHtmlScript:'Brushwasn\'tconfiguredforhtml-scriptoption:',//thisispopulatedbythebuildscriptaboutDialog:'<!DOCTYPEhtmlPUBLIC\"-//W3C//DTDXHTML1.0Transitional//EN\"\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><htmlxmlns=\"http://www.w3.org/1999/xhtml\"><head><metahttp-equiv=\"Content-Type\"content=\"text/html;charset=utf-8\"/><title>AboutSyntaxHighlighter</title></head><bodystyle=\"font-family:Geneva,Arial,Helvetica,sans-serif;background-color:#fff;color:#000;font-size:1em;text-align:center;\"><divstyle=\"text-align:center;margin-top:1.5em;\"><divstyle=\"font-size:xx-large;\">SyntaxHighlighter</div><divstyle=\"font-size:.75em;margin-bottom:3em;\"><div>version3.0.9(Thu,04Dec201412:32:21GMT)</div><div><ahref=\"http://alexgorbatchev.com/SyntaxHighlighter\"target=\"_blank\"style=\"color:#005896\">http://alexgorbatchev.com/SyntaxHighlighter</a></div><div>JavaScriptcodesyntaxhighlighter.</div><div>Copyright2004-2013AlexGorbatchev.</div></div><div>Ifyoulikethisscript,please<ahref=\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=2930402\"style=\"color:#005896\">donate</a>to<br/>keepdevelopmentactive!</div></div></body></html>'}},/**Internal'global'variables.*/vars:{highlighters:{}},/**Thisobjectispopulatedbyuserincludedexternalbrushfiles.*/brushes:{},/**Commonregularexpressions.*/regexLib:{multiLineCComments:XRegExp('/\\*.*?\\*/','gs'),singleLineCComments:/\/\/.*$/gm,singleLinePerlComments:/#.*$/gm,doubleQuotedString:/"([^\\"\n]|\\.)*"/g,singleQuotedString:/'([^\\'\n]|\\.)*'/g,multiLineDoubleQuotedString:XRegExp('"([^\\\\"]|\\\\.)*"','gs'),multiLineSingleQuotedString:XRegExp("'([^\\\\']|\\\\.)*'",'gs'),xmlComments:XRegExp('(&lt;|<)!--.*?--(&gt;|>)','gs'),url:/\w+:\/\/[\w-.\/?%&=:@;#]*/g,phpScriptTags:{left:/(&lt;|<)\?(?:=|php)?/g,right:/\?(&gt;|>)/g,eof:true},aspScriptTags:{left:/(&lt;|<)%=?/g,right:/%(&gt;|>)/g},scriptScriptTags:{left:/(&lt;|<)\s*script.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*script\s*(&gt;|>)/gi}},toolbar:{/***GeneratesHTMLmarkupforthetoolbar.*@param{Highlighter}highlighterHighlighterinstance.*@return{String}ReturnsHTMLmarkup.*/getHtml:function(highlighter){varhtml='<divclass="toolbar">',items=sh.toolbar.items,list=items.list;functiondefaultGetHtml(highlighter,name){returnsh.toolbar.getButtonHtml(highlighter,name,sh.config.strings[name]);}for(vari=0,l=list.length;i<l;i++){html+=(items[list[i]].getHtml||defaultGetHtml)(highlighter,list[i]);}html+='</div>';returnhtml;},/***GeneratesHTMLmarkupforaregularbuttoninthetoolbar.*@param{Highlighter}highlighterHighlighterinstance.*@param{String}commandNameCommandnamethatwouldbeexecuted.*@param{String}labelLabeltexttodisplay.*@return{String}ReturnsHTMLmarkup.*/getButtonHtml:function(highlighter,commandName,label){commandName=escapeHtml(commandName);return'<span><ahref="#"class="toolbar_item'+'command_'+commandName+''+commandName+'">'+escapeHtml(label)+'</a></span>';},/***Eventhandlerforatoolbaranchor.*/handler:function(e){vartarget=e.target,className=target.className||'';functiongetValue(name){varr=newRegExp(name+'_(\\w+)'),match=r.exec(className);returnmatch?match[1]:null;}varhighlighter=getHighlighterById(findParentElement(target,'.syntaxhighlighter').id),commandName=getValue('command');//executethetoolbarcommandif(highlighter&&commandName)sh.toolbar.items[commandName].execute(highlighter);//disabledefaultAclickbehavioure.preventDefault();},/**Collectionoftoolbaritems.*/items:{//Orderedlisofitemsinthetoolbar.Can'texpect`for(varninitems)`tobeconsistent.list:['expandSource','help'],expandSource:{getHtml:function(highlighter){if(highlighter.getParam('collapse')!=true)return'';vartitle=highlighter.getParam('title');returnsh.toolbar.getButtonHtml(highlighter,'expandSource',title?title:sh.config.strings.expandSource);},execute:function(highlighter){vardiv=getHighlighterDivById(highlighter.id);removeClass(div,'collapsed');}},/**Commandtodisplaytheaboutdialogwindow.*/help:{execute:function(highlighter){varwnd=popup('','_blank',500,250,'scrollbars=0'),doc=wnd.document;doc.write(sh.config.strings.aboutDialog);doc.close();wnd.focus();}}}},/***FindsallelementsonthepagewhichshouldbeprocessesbySyntaxHighlighter.**@param{Object}globalParamsOptionalparameterswhichoverrideelement's*parameters.Onlyusedifelementisspecified.**@param{Object}elementOptionalelementtohighlight.Ifnoneis*provided,allelementsinthecurrentdocument*arereturnedwhichqualify.**@return{Array}Returnslistof<code>{target:DOMElement,params:Object}</code>objects.*/findElements:function(globalParams,element){varelements=element?[element]:toArray(document.getElementsByTagName(sh.config.tagName)),conf=sh.config,result=[];//supportfor<SCRIPTTYPE="syntaxhighlighter"/>featureif(conf.useScriptTags)elements=elements.concat(getSyntaxHighlighterScriptTags());if(elements.length===0)returnresult;for(vari=0,l=elements.length;i<l;i++){varitem={target:elements[i],//localparamstakeprecedenceoverglobalsparams:merge(globalParams,parseParams(elements[i].className))};if(item.params.brush==null)continue;result.push(item);}returnresult;},/***Shorthandtohighlightallelementsonthepagethataremarkedas*SyntaxHighlightersourcecode.**@param{Object}globalParamsOptionalparameterswhichoverrideelement's*parameters.Onlyusedifelementisspecified.**@param{Object}elementOptionalelementtohighlight.Ifnoneis*provided,allelementsinthecurrentdocument*arehighlighted.*/highlight:function(globalParams,element){varelements=this.findElements(globalParams,element),propertyName='innerHTML',highlighter=null,conf=sh.config;if(elements.length===0)return;for(vari=0,l=elements.length;i<l;i++){varelement=elements[i],target=element.target,params=element.params,brushName=params.brush,code;if(brushName==null)continue;//Instantiateabrushif(params['html-script']=='true'||sh.defaults['html-script']==true){highlighter=newsh.HtmlScript(brushName);brushName='htmlscript';}else{varbrush=findBrush(brushName);if(brush)highlighter=newbrush();elsecontinue;}code=target[propertyName];//removeCDATAfrom<SCRIPT/>tagsifit'spresentif(conf.useScriptTags)code=stripCData(code);//Injecttitleiftheattributeispresentif((target.title||'')!='')params.title=target.title;params.brush=brushName;highlighter.init(params);element=highlighter.getDiv(code);//carryoverIDif((target.id||'')!='')element.id=target.id;target.parentNode.replaceChild(element,target);}},/***MainentrypointfortheSyntaxHighlighter.*@param{Object}paramsOptionalparamstoapplytoallhighlightedelements.*/all:function(params){attachEvent(window,'load',function(){sh.highlight(params);});}};//endofshfunctionescapeHtml(html){returndocument.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML.replace(/"/g,'&quot;');};/***ChecksiftargetDOMelementshasspecifiedCSSclass.*@param{DOMElement}targetTargetDOMelementtocheck.*@param{String}classNameNameoftheCSSclasstocheckfor.*@return{Boolean}Returnstrueifclassnameispresent,falseotherwise.*/functionhasClass(target,className){returntarget.className.indexOf(className)!=-1;};/***AddsCSSclassnametothetargetDOMelement.*@param{DOMElement}targetTargetDOMelement.*@param{String}classNameNewCSSclasstoadd.*/functionaddClass(target,className){if(!hasClass(target,className))target.className+=''+className;};/***RemovesCSSclassnamefromthetargetDOMelement.*@param{DOMElement}targetTargetDOMelement.*@param{String}classNameCSSclasstoremove.*/functionremoveClass(target,className){target.className=target.className.replace(className,'');};/***Convertsthesourcetoarrayobject.Mostlyusedforfunctionargumentsand*listsreturnedbygetElementsByTagName()whicharen'tArrayobjects.*@param{List}sourceSourcelist.*@return{Array}Returnsarray.*/functiontoArray(source){varresult=[];for(vari=0,l=source.length;i<l;i++)result.push(source[i]);returnresult;};/***Splitsblockoftextintolines.*@param{String}blockBlockoftext.*@return{Array}Returnsarrayoflines.*/functionsplitLines(block){returnblock.split(/\r?\n/);}/***GeneratesHTMLIDforthehighlighter.*@param{String}highlighterIdHighlighterID.*@return{String}ReturnsHTMLID.*/functiongetHighlighterId(id){varprefix='highlighter_';returnid.indexOf(prefix)==0?id:prefix+id;};/***FindsHighlighterinstancebyID.*@param{String}highlighterIdHighlighterID.*@return{Highlighter}Returnsinstanceofthehighlighter.*/functiongetHighlighterById(id){returnsh.vars.highlighters[getHighlighterId(id)];};/***Findshighlighter'sDIVcontainer.*@param{String}highlighterIdHighlighterID.*@return{Element}Returnshighlighter'sDIVelement.*/functiongetHighlighterDivById(id){returndocument.getElementById(getHighlighterId(id));};/***StoreshighlightersothatgetHighlighterById()candoitsthing.Each*highlightermustcallthismethodtopreserveitself.*@param{Highilghter}highlighterHighlighterinstance.*/functionstoreHighlighter(highlighter){sh.vars.highlighters[getHighlighterId(highlighter.id)]=highlighter;};/***Looksforachildorparentnodewhichhasspecifiedclassname.*EquivalenttojQuery's$(container).find(".className")*@param{Element}targetTargetelement.*@param{String}searchClassnameornodenametolookfor.*@param{Boolean}reverseIfsettotrue,willgoupthenodetreeinsteadofdown.*@return{Element}Returnsfoundchildorparentelementonnull.*/functionfindElement(target,search,reverse/*optional*/){if(target==null)returnnull;varnodes=reverse!=true?target.childNodes:[target.parentNode],propertyToFind={'#':'id','.':'className'}[search.substr(0,1)]||'nodeName',expectedValue,found;expectedValue=propertyToFind!='nodeName'?search.substr(1):search.toUpperCase();//mainreturnofthefoundnodeif((target[propertyToFind]||'').indexOf(expectedValue)!=-1)returntarget;for(vari=0,l=nodes.length;nodes&&i<l&&found==null;i++)found=findElement(nodes[i],search,reverse);returnfound;};/***Looksforaparentnodewhichhasspecifiedclassname.*Thisisanaliasto<code>findElement(container,className,true)</code>.*@param{Element}targetTargetelement.*@param{String}classNameClassnametolookfor.*@return{Element}Returnsfoundparentelementonnull.*/functionfindParentElement(target,className){returnfindElement(target,className,true);};/***Findsanindexofelementinthearray.*@ignore*@param{Object}searchElement*@param{Number}fromIndex*@return{Number}Returnsindexofelementiffound;-1otherwise.*/functionindexOf(array,searchElement,fromIndex){fromIndex=Math.max(fromIndex||0,0);for(vari=fromIndex,l=array.length;i<l;i++)if(array[i]==searchElement)returni;return-1;};/***GeneratesauniqueelementID.*/functionguid(prefix){return(prefix||'')+Math.round(Math.random()*1000000).toString();};/***Mergestwoobjects.Valuesfromobj2overridevaluesinobj1.*FunctionisNOTrecursiveandworksonlyforonedimensionalobjects.*@param{Object}obj1Firstobject.*@param{Object}obj2Secondobject.*@return{Object}Returnscombinationofbothobjects.*/functionmerge(obj1,obj2){varresult={},name;for(nameinobj1)result[name]=obj1[name];for(nameinobj2)result[name]=obj2[name];returnresult;};/***Attemptstoconvertstringtoboolean.*@param{String}valueInputstring.*@return{Boolean}Returnstrueifinputwas"true",falseifinputwas"false"andvalueotherwise.*/functiontoBoolean(value){varresult={"true":true,"false":false}[value];returnresult==null?value:result;};/***Opensupacenteredpopupwindow.*@param{String}urlURLtoopeninthewindow.*@param{String}namePopupname.*@param{int}widthPopupwidth.*@param{int}heightPopupheight.*@param{String}optionswindow.open()options.*@return{Window}Returnswindowinstance.*/functionpopup(url,name,width,height,options){varx=(screen.width-width)/2,y=(screen.height-height)/2;options+=',left='+x+',top='+y+',width='+width+',height='+height;options=options.replace(/^,/,'');varwin=window.open(url,name,options);win.focus();returnwin;};/***Addseventhandlertothetargetobject.*@param{Object}objTargetobject.*@param{String}typeNameoftheevent.*@param{Function}funcHandlingfunction.*/functionattachEvent(obj,type,func,scope){functionhandler(e){e=e||window.event;if(!e.target){e.target=e.srcElement;e.preventDefault=function(){this.returnValue=false;};}func.call(scope||window,e);};if(obj.attachEvent){obj.attachEvent('on'+type,handler);}else{obj.addEventListener(type,handler,false);}};/***Displaysanalert.*@param{String}strStringtodisplay.*/functionalert(str){window.alert(sh.config.strings.alert+str);};/***Findsabrushbyitsalias.**@param{String}aliasBrushalias.*@param{Boolean}showAlertSuppressesthealertiffalse.*@return{Brush}Returnsburshconstructoriffound,nullotherwise.*/functionfindBrush(alias,showAlert){varbrush=sh.brushes[alias];if(brush!==undefined){returnbrush;}//Findbrushfor(brushinsh.brushes){varinfo=sh.brushes[brush],aliases=info.aliases;if(aliases==null)continue;//keepthebrushnameinfo.brushName=brush.toLowerCase();for(vari=0,l=aliases.length;i<l;i++)sh.brushes[aliases[i]]=info;}brush=sh.brushes[alias];if(brush===undefined){sh.brushes[alias]=null;if(showAlert){alert(sh.config.strings.noBrush+alias);}}returnbrush;};/***Executesacallbackoneachlineandreplaceseachlinewithresultfromthecallback.*@param{Object}strInputstring.*@param{Object}callbackCallbackfunctiontakingonestringargumentandreturningastring.*/functioneachLine(str,callback){varlines=splitLines(str);for(vari=0,l=lines.length;i<l;i++)lines[i]=callback(lines[i],i);//include\rtoenablecopy-pasteonwindows(ie8)withoutgettingeverythingononelinereturnlines.join('\r\n');};/***Thisisaspecialtrimwhichonlyremovesfirstandlastemptylines*anddoesn'taffectvalidleadingspaceonthefirstline.**@param{String}strInputstring*@return{String}Returnsstringwithoutemptyfirstandlastlines.*/functiontrimFirstAndLastLines(str){returnstr.replace(/^[ ]*[\n]+|[\n]*[ ]*$/g,'');};/***Parseskey/valuepairsintohashobject.**Understandsthefollowingformats:*-name:word;*-name:[word,word];*-name:"string";*-name:'string';**Forexample:*name1:value;name2:[value,value];name3:'value'**@param{String}strInputstring.*@return{Object}Returnsdeserializedobject.*/functionparseParams(str){varmatch,result={},arrayRegex=XRegExp("^\\[(?<values>(.*?))\\]$"),pos=0,regex=XRegExp("(?<name>[\\w-]+)"+"\\s*:\\s*"+"(?<value>"+"[\\w%#-]+|"+//word"\\[.*?\\]|"+//[]array'".*?"|'+//""string"'.*?'"+//''string")\\s*;?","g");while((match=XRegExp.exec(str,regex,pos))!=null){varvalue=match.value.replace(/^['"]|['"]$/g,'')//stripquotesfromendofstrings;//trytoparsearrayvalueif(value!=null&&arrayRegex.test(value)){varm=XRegExp.exec(value,arrayRegex);value=m.values.length>0?m.values.split(/\s*,\s*/):[];}result[match.name]=value;pos=match.index+match[0].length;}returnresult;};/***Wrapseachlineofthestringinto<code/>tagwithgivenstyleappliedtoit.**@param{String}strInputstring.*@param{String}cssStylenametoapplytothestring.*@return{String}Returnsinputstringwitheachlinesurroundedby<span/>tag.*/functionwrapLinesWithCode(str,css){if(str==null||str.length==0||str=='\n')returnstr;str=str.replace(/</g,'&lt;');//Replacetwoormoresequentialspaceswith&nbsp;leavinglastspaceuntouched.str=str.replace(/ {2,}/g,function(m){varspaces='';for(vari=0,l=m.length;i<l-1;i++)spaces+=sh.config.space;returnspaces+'';});//Spliteachlineandapply<spanclass="...">...</span>tothemsothat//leadingspacesaren'tincluded.if(css!=null)str=eachLine(str,function(line){if(line.length==0)return'';varspaces='';line=line.replace(/^(&nbsp;| )+/,function(s){spaces=s;return'';});if(line.length==0)returnspaces;returnspaces+'<codeclass="'+css+'">'+line+'</code>';});returnstr;};/***Padsnumberwithzerosuntilit'slengthisthesameasgivenlength.**@param{Number}numberNumbertopad.*@param{Number}lengthMaxstringlengthwith.*@return{String}Returnsastringpaddedwithproperamountof'0'.*/functionpadNumber(number,length){varresult=number.toString();while(result.length<length)result='0'+result;returnresult;};/***Replacestabswithspaces.**@param{String}codeSourcecode.*@param{Number}tabSizeSizeofthetab.*@return{String}Returnscodewithalltabsreplacesbyspaces.*/functionprocessTabs(code,tabSize){vartab='';for(vari=0;i<tabSize;i++)tab+='';returncode.replace(/\t/g,tab);};/***Replacestabswithsmartspaces.**@param{String}codeCodetofixthetabsin.*@param{Number}tabSizeNumberofspacesinacolumn.*@return{String}Returnscodewithalltabsreplaceswithroperamountofspaces.*/functionprocessSmartTabs(code,tabSize){varlines=splitLines(code),tab='\t',spaces='';//Createastringwith1000spacestocopyspacesfrom...//It'sassumedthattherewouldbenoindentationlongerthanthat.for(vari=0;i<50;i++)spaces+='';//20spaces*50//Thisfunctioninsertsspecifiedamountofspacesinthestring//whereatabiswhileremovingthatgiventab.functioninsertSpaces(line,pos,count){returnline.substr(0,pos)+spaces.substr(0,count)+line.substr(pos+1,line.length)//pos+1willgetridofthetab;};//Gothroughallthelinesanddothe'smarttabs'magic.code=eachLine(code,function(line){if(line.indexOf(tab)==-1)returnline;varpos=0;while((pos=line.indexOf(tab))!=-1){//Thisisprettymuchallthereistothe'smarttabs'logic.//Basedonthepositionwithinthelineandsizeofatab,//calculatetheamountofspacesweneedtoinsert.varspaces=tabSize-pos%tabSize;line=insertSpaces(line,pos,spaces);}returnline;});returncode;};/***Performsvariousstringfixesbasedonconfiguration.*/functionfixInputString(str){varbr=/<br\s*\/?>|&lt;br\s*\/?&gt;/gi;if(sh.config.bloggerMode==true)str=str.replace(br,'\n');if(sh.config.stripBrs==true)str=str.replace(br,'');returnstr;};/***Removesallwhitespaceatthebeginingandendofastring.**@param{String}strStringtotrim.*@return{String}Returnsstringwithoutleadingandfollowingwhitespacecharacters.*/functiontrim(str){returnstr.replace(/^\s+|\s+$/g,'');};/***Unindentsablockoftextbythelowestcommonindentamount.*@param{String}strTexttounindent.*@return{String}Returnsunindentedtextblock.*/functionunindent(str){varlines=splitLines(fixInputString(str)),indents=newArray(),regex=/^\s*/,min=1000;//gothrougheverylineandcheckforcommonnumberofindentsfor(vari=0,l=lines.length;i<l&&min>0;i++){varline=lines[i];if(trim(line).length==0)continue;varmatches=regex.exec(line);//Intheeventthatjustonelinedoesn'thaveleadingwhitespace//wecan'tunindentanything,sobailcompletely.if(matches==null)returnstr;min=Math.min(matches[0].length,min);}//trimminimumcommonnumberofwhitespacefromthebeginingofeverylineif(min>0)for(vari=0,l=lines.length;i<l;i++)lines[i]=lines[i].substr(min);returnlines.join('\n');};/***CallbackmethodforArray.sort()whichsortsmatchesby*indexpositionandthenbylength.**@param{Match}m1Leftobject.*@param{Match}m2Rightobject.*@return{Number}Returns-1,0or-1asacomparisonresult.*/functionmatchesSortCallback(m1,m2){//sortmatchesbyindexfirstif(m1.index<m2.index)return-1;elseif(m1.index>m2.index)return1;else{//ifindexisthesame,sortbylengthif(m1.length<m2.length)return-1;elseif(m1.length>m2.length)return1;}return0;};/***Executesgivenregularexpressiononprovidedcodeandreturnsall*matchesthatarefound.**@param{String}codeCodetoexecuteregularexpressionon.*@param{Object}regexRegularexpressioniteminfofrom<code>regexList</code>collection.*@return{Array}ReturnsalistofMatchobjects.*/functiongetMatches(code,regexInfo){functiondefaultAdd(match,regexInfo){returnmatch[0];};varindex=0,match=null,matches=[],func=regexInfo.func?regexInfo.func:defaultAddpos=0;while((match=XRegExp.exec(code,regexInfo.regex,pos))!=null){varresultMatch=func(match,regexInfo);if(typeof(resultMatch)=='string')resultMatch=[newsh.Match(resultMatch,match.index,regexInfo.css)];matches=matches.concat(resultMatch);pos=match.index+match[0].length;}returnmatches;};/***TurnsallURLsinthecodeinto<a/>tags.*@param{String}codeInputcode.*@return{String}Returnscodewith</a>tags.*/functionprocessUrls(code){vargt=/(.*)((&gt;|&lt;).*)/;returncode.replace(sh.regexLib.url,function(m){varsuffix='',match=null;google.com>google.com&gt;//Whereas&gt;easilylookslikepartoftheURLstring.if(match=gt.exec(m)){m=match[1];suffix=match[2];}return'<ahref="'+m+'">'+m+'</a>'+suffix;});};/***Findsall<SCRIPTTYPE="syntaxhighlighter"/>elementss.*@return{Array}ReturnsarrayofallfoundSyntaxHighlightertags.*/functiongetSyntaxHighlighterScriptTags(){vartags=document.getElementsByTagName('script'),result=[];for(vari=0,l=tags.length;i<l;i++)if(tags[i].type=='syntaxhighlighter')result.push(tags[i]);returnresult;};/***Strips<![CDATA[]]>from<SCRIPT/>contentbecauseitshouldbeused*thereinmostcasesforXHTMLcompliance.*@param{String}originalInputcode.*@return{String}Returnscodewithoutleading<![CDATA[]]>tags.*/functionstripCData(original){varleft='<![CDATA[',right=']]>',//forsomereasonIEinsertssomeleadingblanksherecopy=trim(original),changed=false,leftLength=left.length,rightLength=right.length;if(copy.indexOf(left)==0){copy=copy.substring(leftLength);changed=true;}varcopyLength=copy.length;if(copy.indexOf(right)==copyLength-rightLength){copy=copy.substring(0,copyLength-rightLength);changed=true;}returnchanged?copy:original;};/***Quickcodemousedoubleclickhandler.*/functionquickCodeHandler(e){vartarget=e.target,highlighterDiv=findParentElement(target,'.syntaxhighlighter'),container=findParentElement(target,'.container'),textarea=document.createElement('textarea'),highlighter;if(!container||!highlighterDiv||findElement(container,'textarea'))return;highlighter=getHighlighterById(highlighterDiv.id);//addsourceclassnameaddClass(highlighterDiv,'source');//Havetogoovereachlineandgrabit'stext,can'tjustdoitonthe//containerbecauseFirefoxlosesall\nwhereasWebkitdoesn't.varlines=container.childNodes,code=[];for(vari=0,l=lines.length;i<l;i++)code.push(lines[i].innerText||lines[i].textContent);//using\rinsteadof\ror\r\nmakesthisworkequallywellonIE,FFandWebkitcode=code.join('\r');//ForWebkitbrowsers,replacenbspwithabreakingspacecode=code.replace(/\u00a0/g,"");//inject<textarea/>tagtextarea.appendChild(document.createTextNode(code));container.appendChild(textarea);//preselectalltexttextarea.focus();textarea.select();//setuphandlerforlostfocusattachEvent(textarea,'blur',function(e){textarea.parentNode.removeChild(textarea);removeClass(highlighterDiv,'source');});};/***Matchobject.*/sh.Match=function(value,index,css){this.value=value;this.index=index;this.length=value.length;this.css=css;this.brushName=null;};sh.Match.prototype.toString=function(){returnthis.value;};/***SimulatesHTMLcodewithascriptinglanguageembedded.**@param{String}scriptBrushNameBrushnameofthescriptinglanguage.*/sh.HtmlScript=function(scriptBrushName){varbrushClass=findBrush(scriptBrushName),scriptBrush,xmlBrush=newsh.brushes.Xml(),bracketsRegex=null,ref=this,methodsToExpose='getDivgetHtmlinit'.split('');if(brushClass==null)return;scriptBrush=newbrushClass();for(vari=0,l=methodsToExpose.length;i<l;i++)//makeaclosuresowedon'tlosethenameafterichanges(function(){varname=methodsToExpose[i];ref[name]=function(){returnxmlBrush[name].apply(xmlBrush,arguments);};})();if(scriptBrush.htmlScript==null){alert(sh.config.strings.brushNotHtmlScript+scriptBrushName);return;}xmlBrush.regexList.push({regex:scriptBrush.htmlScript.code,func:process});functionoffsetMatches(matches,offset){for(varj=0,l=matches.length;j<l;j++)matches[j].index+=offset;}functionprocess(match,info){varcode=match.code,matches=[],regexList=scriptBrush.regexList,offset=match.index+match.left.length,htmlScript=scriptBrush.htmlScript,result;//addallmatchesfromthecodefor(vari=0,l=regexList.length;i<l;i++){result=getMatches(code,regexList[i]);offsetMatches(result,offset);matches=matches.concat(result);}//addleftscriptbracketif(htmlScript.left!=null&&match.left!=null){result=getMatches(match.left,htmlScript.left);offsetMatches(result,match.index);matches=matches.concat(result);}//addrightscriptbracketif(htmlScript.right!=null&&match.right!=null){result=getMatches(match.right,htmlScript.right);offsetMatches(result,match.index+match[0].lastIndexOf(match.right));matches=matches.concat(result);}for(varj=0,l=matches.length;j<l;j++)matches[j].brushName=brushClass.brushName;returnmatches;}};/***MainHighlitherclass.*@constructor*/sh.Highlighter=function(){//notputtinganycodeinherebecauseoftheprototypeinheritance};sh.Highlighter.prototype={/***Returnsvalueoftheparameterpassedtothehighlighter.*@param{String}nameNameoftheparameter.*@param{Object}defaultValueDefaultvalue.*@return{Object}Returnsfoundvalueordefaultvalueotherwise.*/getParam:function(name,defaultValue){varresult=this.params[name];returntoBoolean(result==null?defaultValue:result);},/***Shortcuttodocument.createElement().*@param{String}nameNameoftheelementtocreate(DIV,A,etc).*@return{HTMLElement}ReturnsnewHTMLelement.*/create:function(name){returndocument.createElement(name);},/***Appliesallregularexpressiontothecodeandstoresallfound*matchesinthe`this.matches`array.*@param{Array}regexListListofregularexpressions.*@param{String}codeSourcecode.*@return{Array}Returnslistofmatches.*/findMatches:function(regexList,code){varresult=[];if(regexList!=null)for(vari=0,l=regexList.length;i<l;i++)//BUG:lengthreturnslen+1forarrayifmethodsaddedtoprototypechain(oising@gmail.com)if(typeof(regexList[i])=="object")result=result.concat(getMatches(code,regexList[i]));//sortandremovenestedthematchesreturnthis.removeNestedMatches(result.sort(matchesSortCallback));},/***Checkstoseeifanyofthematchesareinsideofothermatches.*Thisprocesswouldgetridofhighligtedstringsinsidecomments,*keywordsinsidestringsandsoon.*/removeNestedMatches:function(matches){//OptimizedbyJosePrado(http://joseprado.com)for(vari=0,l=matches.length;i<l;i++){if(matches[i]===null)continue;varitemI=matches[i],itemIEndPos=itemI.index+itemI.length;for(varj=i+1,l=matches.length;j<l&&matches[i]!==null;j++){varitemJ=matches[j];if(itemJ===null)continue;elseif(itemJ.index>itemIEndPos)break;elseif(itemJ.index==itemI.index&&itemJ.length>itemI.length)matches[i]=null;elseif(itemJ.index>=itemI.index&&itemJ.index<itemIEndPos)matches[j]=null;}}returnmatches;},/***Createsanarraycontainingintegerlinenumbersstartingfromthe'first-line'param.*@return{Array}Returnsarrayofintegers.*/figureOutLineNumbers:function(code){varlines=[],firstLine=parseInt(this.getParam('first-line'));eachLine(code,function(line,index){lines.push(index+firstLine);});returnlines;},/***Determinesifspecifiedlinenumberisinthehighlightedlist.*/isLineHighlighted:function(lineNumber){varlist=this.getParam('highlight',[]);if(typeof(list)!='object'&&list.push==null)list=[list];returnindexOf(list,lineNumber.toString())!=-1;},/***GeneratesHTMLmarkupforasinglelineofcodewhiledeterminingalternatinglinestyle.*@param{Integer}lineNumberLinenumber.*@param{String}codeLineHTMLmarkup.*@return{String}ReturnsHTMLmarkup.*/getLineHtml:function(lineIndex,lineNumber,code){varclasses=['line','number'+lineNumber,'index'+lineIndex,'alt'+(lineNumber%2==0?1:2).toString()];if(this.isLineHighlighted(lineNumber))classes.push('highlighted');if(lineNumber==0)classes.push('break');return'<divclass="'+classes.join('')+'">'+code+'</div>';},/***GeneratesHTMLmarkupforlinenumbercolumn.*@param{String}codeCompletecodeHTMLmarkup.*@param{Array}lineNumbersCalculatedlinenumbers.*@return{String}ReturnsHTMLmarkup.*/getLineNumbersHtml:function(code,lineNumbers){varhtml='',count=splitLines(code).length,firstLine=parseInt(this.getParam('first-line')),pad=this.getParam('pad-line-numbers');if(pad==true)pad=(firstLine+count-1).toString().length;elseif(isNaN(pad)==true)pad=0;for(vari=0;i<count;i++){varlineNumber=lineNumbers?lineNumbers[i]:firstLine+i,code=lineNumber==0?sh.config.space:padNumber(lineNumber,pad);html+=this.getLineHtml(i,lineNumber,code);}returnhtml;},/***SplitsblockoftextintoindividualDIVlines.*@param{String}codeCodetohighlight.*@param{Array}lineNumbersCalculatedlinenumbers.*@return{String}ReturnshighlightedcodeinHTMLform.*/getCodeLinesHtml:function(html,lineNumbers){html=trim(html);varlines=splitLines(html),padLength=this.getParam('pad-line-numbers'),firstLine=parseInt(this.getParam('first-line')),html='',brushName=this.getParam('brush');for(vari=0,l=lines.length;i<l;i++){varline=lines[i],indent=/^(&nbsp;|\s)+/.exec(line),spaces=null,lineNumber=lineNumbers?lineNumbers[i]:firstLine+i;;if(indent!=null){spaces=indent[0].toString();line=line.substr(spaces.length);spaces=spaces.replace('',sh.config.space);}line=trim(line);if(line.length==0)line=sh.config.space;html+=this.getLineHtml(i,lineNumber,(spaces!=null?'<codeclass="'+brushName+'spaces">'+spaces+'</code>':'')+line);}returnhtml;},/***ReturnsHTMLforthetabletitleoremptystringiftitleisnull.*/getTitleHtml:function(title){returntitle?'<caption>'+escapeHtml(title)+'</caption>':'';},/***Findsallmatchesinthesourcecode.*@param{String}codeSourcecodetoprocessmatchesin.*@param{Array}matchesDiscoveredregexmatches.*@return{String}ReturnsformattedHTMLwithprocessedmathes.*/getMatchesHtml:function(code,matches){varpos=0,result='',brushName=this.getParam('brush','');functiongetBrushNameCss(match){varresult=match?(match.brushName||brushName):brushName;returnresult?result+'':'';};//Finally,gothroughthefinallistofmatchesandpulltheall//togetheraddingeverythinginbetweenthatisn'tamatch.for(vari=0,l=matches.length;i<l;i++){varmatch=matches[i],matchBrushName;if(match===null||match.length===0)continue;matchBrushName=getBrushNameCss(match);result+=wrapLinesWithCode(code.substr(pos,match.index-pos),matchBrushName+'plain')+wrapLinesWithCode(match.value,matchBrushName+match.css);pos=match.index+match.length+(match.offset||0);}//don'tforgettoaddwhatever'sremaininginthestringresult+=wrapLinesWithCode(code.substr(pos),getBrushNameCss()+'plain');returnresult;},/***GeneratesHTMLmarkupforthewholesyntaxhighlighter.*@param{String}codeSourcecode.*@return{String}ReturnsHTMLmarkup.*/getHtml:function(code){varhtml='',classes=['syntaxhighlighter'],tabSize,matches,lineNumbers;//processlightmodeif(this.getParam('light')==true)this.params.toolbar=this.params.gutter=false;className='syntaxhighlighter';if(this.getParam('collapse')==true)classes.push('collapsed');if((gutter=this.getParam('gutter'))==false)classes.push('nogutter');//addcustomuserstylenameclasses.push(this.getParam('class-name'));//addbrushaliastotheclassnameforcustomCSSclasses.push(this.getParam('brush'));code=trimFirstAndLastLines(code).replace(/\r/g,'')//IEletsthesebuggersthrough;tabSize=this.getParam('tab-size');//replacetabswithspacescode=this.getParam('smart-tabs')==true?processSmartTabs(code,tabSize):processTabs(code,tabSize);//unindentcodebythecommonindentationif(this.getParam('unindent'))code=unindent(code);if(gutter)lineNumbers=this.figureOutLineNumbers(code);//findmatchesinthecodeusingbrushesregexlistmatches=this.findMatches(this.regexList,code);//processesfoundmatchesintothehtmlhtml=this.getMatchesHtml(code,matches);//finally,splitalllinessothattheywrapwellhtml=this.getCodeLinesHtml(html,lineNumbers);//finally,processthelinksif(this.getParam('auto-links'))html=processUrls(html);if(typeof(navigator)!='undefined'&&navigator.userAgent&&navigator.userAgent.match(/MSIE/))classes.push('ie');html='<divid="'+getHighlighterId(this.id)+'"class="'+escapeHtml(classes.join(''))+'">'+(this.getParam('toolbar')?sh.toolbar.getHtml(this):'')+'<tableborder="0"cellpadding="0"cellspacing="0">'+this.getTitleHtml(this.getParam('title'))+'<tbody>'+'<tr>'+(gutter?'<tdclass="gutter">'+this.getLineNumbersHtml(code)+'</td>':'')+'<tdclass="code">'+'<divclass="container">'+html+'</div>'+'</td>'+'</tr>'+'</tbody>'+'</table>'+'</div>';returnhtml;},/***HighlightsthecodeandreturnscompleteHTML.*@param{String}codeCodetohighlight.*@return{Element}ReturnscontainerDIVelementwithallmarkup.*/getDiv:function(code){if(code===null)code='';this.code=code;vardiv=this.create('div');//createmainHTMLdiv.innerHTML=this.getHtml(code);//setupclickhandlersif(this.getParam('toolbar'))attachEvent(findElement(div,'.toolbar'),'click',sh.toolbar.handler);if(this.getParam('quick-code'))attachEvent(findElement(div,'.code'),'dblclick',quickCodeHandler);returndiv;},/***Initializesthehighlighter/brush.**Constructorisn'tusedforinitializationsothatnothingexecutesduringnecessary*`newSyntaxHighlighter.Highlighter()`callwhensettingupbrushinheritence.**@param{Hash}paramsHighlighterparameters.*/init:function(params){this.id=guid();//registerthisinstanceinthehighlightersliststoreHighlighter(this);//localparamstakeprecedenceoverdefaultsthis.params=merge(sh.defaults,params||{})//processlightmodeif(this.getParam('light')==true)this.params.toolbar=this.params.gutter=false;},/***Convertsspaceseparatedlistofkeywordsintoaregularexpressionstring.*@param{String}strSpaceseparatedkeywords.*@return{String}Returnsregularexpressionstring.*/getKeywords:function(str){str=str.replace(/^\s+|\s+$/g,'').replace(/\s+/g,'|');return'\\b(?:'+str+')\\b';},/***Makesabrushcompatiblewiththe`html-script`functionality.*@param{Object}regexGroupObjectcontaining`left`and`right`regularexpressions.*/forHtmlScript:function(regexGroup){varregex={end:regexGroup.right.source};if(regexGroup.eof)regex.end="(?:(?:"+regex.end+")|$)";this.htmlScript={left:{regex:regexGroup.left,css:'script'},right:{regex:regexGroup.right,css:'script'},code:XRegExp("(?<left>"+regexGroup.left.source+")"+"(?<code>.*?)"+"(?<right>"+regex.end+")","sgi")};}};//endofHighlighterreturnsh;}();//endofanonymousfunction//CommonJStypeof(exports)!='undefined'?exports.SyntaxHighlighter=SyntaxHighlighter:null;/***SyntaxHighlighter*http://alexgorbatchev.com/SyntaxHighlighter**SyntaxHighlighterisdonationware.Ifyouareusingit,pleasedonate.*http://alexgorbatchev.com/SyntaxHighlighter/donate.html**@version*3.0.9(Thu,04Dec201412:32:21GMT)**@copyright*Copyright(C)2004-2013AlexGorbatchev.**@license*DuallicensedundertheMITandGPLlicenses.*/(function(){varsh=SyntaxHighlighter;/***Providesfunctionalitytodynamicallyloadonlythebrushesthataneededtorenderthecurrentpage.**Therearetwosyntaxesthatautoloadunderstands.Forexample:**SyntaxHighlighter.autoloader(*['applescript','Scripts/shBrushAppleScript.js'],*['actionscript3','as3','Scripts/shBrushAS3.js']*);**oramoreeasilycomprehendableone:**SyntaxHighlighter.autoloader(*'applescriptScripts/shBrushAppleScript.js',*'actionscript3as3Scripts/shBrushAS3.js'*);*/sh.autoloader=function(){varlist=arguments,elements=sh.findElements(),brushes={},scripts={},all=SyntaxHighlighter.all,allCalled=false,allParams=null,i;SyntaxHighlighter.all=function(params){allParams=params;allCalled=true;};functionaddBrush(aliases,url){for(vari=0;i<aliases.length;i++)brushes[aliases[i]]=url;};functiongetAliases(item){returnitem.pop?item:item.split(/\s+/);}//createtableofaliasesandscripturlsfor(i=0;i<list.length;i++){varaliases=getAliases(list[i]),url=aliases.pop();addBrush(aliases,url);}//dynamicallyadd<script/>tagstothedocumentbodyfor(i=0;i<elements.length;i++){varurl=brushes[elements[i].params.brush];if(url&&scripts[url]===undefined){if(elements[i].params['html-script']==='true'){if(scripts[brushes.xml]===undefined){loadScript(brushes.xml);scripts[url]=false;}}scripts[url]=false;loadScript(url);}}functionloadScript(url){varscript=document.createElement('script'),done=false;script.src=url;script.type='text/javascript';script.language='javascript';script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=='loaded'||this.readyState=='complete')){done=true;scripts[url]=true;checkAll();//HandlememoryleakinIEscript.onload=script.onreadystatechange=null;script.parentNode.removeChild(script);}};//syncwayofaddingscripttagstothepagedocument.body.appendChild(script);};functioncheckAll(){for(varurlinscripts)if(scripts[url]==false)return;if(allCalled)SyntaxHighlighter.highlight(allParams);};};})();<scripttype="text/javascript">//<![CDATA[varyash_path="/index.php?pf=yash/syntaxhighlighter/js/";//]]></script>functionshGetPath(){varargs=arguments,result=[];for(vari=0;i<args.length;i++)result.push(args[i].replace('@',yash3_path));returnresult;};SyntaxHighlighter.autoloader.apply(null,shGetPath('applescript@shBrushAppleScript.js','actionscript3as3@shBrushAS3.js','bashshell@shBrushBash.js','coldfusioncf@shBrushColdFusion.js','cppc@shBrushCpp.js','c#c-sharpcsharp@shBrushCSharp.js','css@shBrushCss.js','delphipascal@shBrushDelphi.js','diffpatchpas@shBrushDiff.js','erlerlang@shBrushErlang.js','groovy@shBrushGroovy.js','java@shBrushJava.js','jfxjavafx@shBrushJavaFX.js','jsjscriptjavascript@shBrushJScript.js','perlpl@shBrushPerl.js','php@shBrushPhp.js','textplain@shBrushPlain.js','pspowershell@shBrushPowerShell.js','pypython@shBrushPython.js','rubyrailsrorrb@shBrushRuby.js','sassscss@shBrushSass.js','scala@shBrushScala.js','sql@shBrushSql.js','vbvbnet@shBrushVb.js','xmlxhtmlxslthtml@shBrushXml.js','yamlyaml@shBrushYaml.js'));SyntaxHighlighter.defaults.toolbar=false;SyntaxHighlighter.all();